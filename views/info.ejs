<head>
  <title>Info</title>
  <meta charset="UTF-8"/>
  <link rel="stylesheet" href="/cart.css">
  <link rel="stylesheet" href="/cart.scss">
  <link rel="stylesheet" href="/cart.js">
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
    crossorigin="anonymous"
  />
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"
  ></script>
  <style>
    .img-fluid {
    max-width: 100%;
    height: auto;
  }
  .img-desktop {
    display: block;
  }
  .truncated-info {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
  .carousel-inner {
    position: relative;
    width: 100%;
    overflow: hidden;
}
  .h-80 {
    height: 80%;
  }
  .image-container {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .image-container img {
    width: 300px; /* Adjust this value as needed */
    height: 300px; /* Adjust this value as needed */
    object-fit: cover;
  }

  .image-container .btn {
    position: absolute;
    top: 90%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
.button-1 {
  align-self: center;
  background-color: #fff;
  background-image: none;
  background-position: 0 90%;
  background-repeat: repeat no-repeat;
  background-size: 4px 3px;
  border-radius: 15px 225px 255px 15px 15px 255px 225px 15px;
  border-style: solid;
  border-width: 2px;
  box-shadow: rgba(0, 0, 0, .2) 15px 28px 25px -18px;
  box-sizing: border-box;
  color: #41403e;
  cursor: pointer;
  display: inline-block;
  font-family: Neucha, sans-serif;
  font-size: 1rem;
  line-height: 23px;
  outline: none;
  padding: .75rem;
  text-decoration: none;
  transition: all 235ms ease-in-out;
  border-bottom-left-radius: 15px 255px;
  border-bottom-right-radius: 225px 15px;
  border-top-left-radius: 255px 15px;
  border-top-right-radius: 15px 225px;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
}

.button-55:hover {
  box-shadow: rgba(0, 0, 0, .3) 2px 8px 8px -5px;
  transform: translate3d(0, 2px, 0);
}

.button-55:focus {
  box-shadow: rgba(0, 0, 0, .3) 2px 8px 4px -6px;
}
  </style>
</head>

<html>
  <header class="p-3 mb-3 border-bottom">
    <div class="container">
      <div class="d-flex justify-content-center">
        <p class="text-primary">MU Online Shop</p>
      </div>
    </div>
    <body>

    <div class="container">
      <div
        class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start"
      >
        <a
          href="/"
          class="d-flex align-items-center mb-2 mb-lg-0 link-body-emphasis text-decoration-none"
        >
          <svg
            class="bi me-2"
            width="40"
            height="32"
            role="img"
            aria-label="Bootstrap"
          >
            <use xlink:href="#bootstrap"></use>
          </svg>
        </a>

        <ul
          class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0"
        >
          <li><a href="/" class="nav-link px-2 link-secondary">HomePage</a></li>
          <li>
            <a href="/product" class="nav-link px-2 link-body-emphasis">Product</a>
          </li>
          <li>
            <a href="/News" class="nav-link px-2 link-body-emphasis">News</a>
          </li>
          <li>
            <a href="/About-us" class="nav-link px-2 link-body-emphasis">About us</a>
          </li>
        </ul>
        <div class="d-flex justify-content-center">
        <% if (username && base64icon) { %>
          <div class="dropdown text-end">
            <a href="#" class="d-block link-body-emphasis text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
              <img src="data:image/png;base64,<%= base64icon %>" alt="<%= username %>" width="32" height="32" class="rounded-circle">
              <%=username %>
            </a>
            <ul class="dropdown-menu text-small">
              <li><a class="dropdown-item" href="/profile">Profile</a></li>
              <li><hr class="dropdown-divider" /></li>
              <li><a class="dropdown-item" href="/signout">Sign out</a></li>
            </ul>
          </div>
        <% } else { %>
          <div class="dropdown text-end">
            <a class="btn btn-light" href="/login">Login</a>
            <a class="btn btn-light" href="/signup">Sign up</a>
          </div>
        <% } %>
        <ul class="navbar-right">
          <li class="dropdown">
            <a href="#" id="cartToggle" class="dropdown-toggle">
              <i class="fa fa-shopping-cart"></i> Cart
              <span class="badge"><%= cart.length %></span>
            </a>
            <div class="shopping-cart dropdown-menu" id="cartDropdown">
              <div class="shopping-cart-header">
                <i class="fa fa-shopping-cart cart-icon"></i>
                  <span class="lighter-text">Total:</span>
                  <span class="main-color-text"><%= totalPrice %></span>
              </div>
              <!-- Cart items -->
              <ul class="shopping-cart-items">
                <% cart.forEach(item => { %>
                  <li class="clearfix">
                    <div class="row">
                      <div class="col-auto">
                        <img src="<%= item.image %>" alt="Product Image" class="img-thumbnail">
                      </div>
                      <div class="col">
                        <div class="item-details">
                          <h5 class="item-name"><%= item.name %></h5>
                          <p class="item-price">Price: $<%= item.price %></p>
                          <p class="item-quantity">Inventory: <%= item.inventory %></p>
                          <!-- <form action="/remove_cart/<%= item.id %>" method="POST" class="remove-form">
                            <button class="close-btn"></button>
                          </form> -->
                        </div>
                      </div>
                    </div>
                  </li>
                <% }); %>
                <div class="container">
                  <div class="row">
                    <div class="col">
                      <form action="/clear_cart" method="POST">
                        <button type="submit" class="btn btn-primary">clear cart</button>
                      </form>
                    </div>
                    <div class="col">
                      <a href="/checkout" class="btn btn-primary">checkout</a>
                    </div>
                  </div>
                </div>
              </ul>
            </div>
          </li>
        </ul>
        </div>
      </div>
        
        <script>
          document.getElementById('cartToggle').addEventListener('click', function(event) {
            event.preventDefault();
            var cart = document.querySelector('.shopping-cart');
            cart.classList.toggle('open');
          });
        </script>
        </div>
      </div>
    </div>
  </header>
    <body>
            <div class="container"> 
                  <% if (product.inventory > 0) { %>
                    <div class="row">  
                      <div class="col-8">
                        <img src="<%= product.image %>" alt="Product Image" class="img-thumbnail">
                      </div>
                      <div class="col-4">
                        <h5 class="item-name"><%= product.name %></h5>
                      <p class="item-price">Price: $<%= product.price %></p>
                      <p class="item-quantity">Inventory: <%= product.inventory %></p>
                      </div>
                  <% } else { %>
                    <p class="out-of-stock">Out of Stock</p>
                  <% } %>
                </div>
              </div>
            </div>
    </body>
    <footer>
      <div class="container">
        <footer class="py-3 my-4">
          <ul class="nav justify-content-center border-bottom pb-3 mb-3">
            <li class="nav-item"><a href="/" class="nav-link px-2 text-body-secondary">Home</a></li>
            <li class="nav-item"><a href="/" class="nav-link px-2 text-body-secondary">FAQs</a></li>
            <li class="nav-item"><a href="/" class="nav-link px-2 text-body-secondary">About</a></li>
          </ul>
          <p class="text-center text-body-secondary">13322849Â© 2023 Company, Inc</p>
        </footer>
      </div>
    </footer>
</html>